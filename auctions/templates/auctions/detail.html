{% extends "auctions/layout.html" %} {% block body %} {% load custom_tags %}
<div class="flex items-center gap-2 w-fit">
  <h2 class="text-2xl font-semibold text-gray-900 dark:text-white">
    {{ listing.title }}
  </h2>
  {% if is_authenticated %}
    {% bookmark_button listing.is_saved_by_user listing.id %}
  {% endif %}
</div>
<article class="mx-auto my-6">
  <div class="flex gap-4 mb-6">
    <img
      class="object-cover w-full h-96 md:h-auto md:w-56"
      src="{{ listing.image_url }}"
      alt="{{ 'Image of listing article: '|add:listing.title }}"
    />
    <header class="text-gray-900 dark:text-white">
      <h3>Highest bid</h3>
      <span class="text-2xl font-bold tracking-tight">
        <!-- here it should display starting_bid only if there are no bids -->
        {{ listing.current_highest|currency }}
      </span>
    </header>
    {% if is_authenticated %}
      <form action="{% url 'detail' listing.id %}" method="POST" class="max-w-md mx-auto my-6">
        {% csrf_token %}
        <input type="hidden" name="_method" value="PATCH" />
        <div class="mb-6">
          {% custom_input 'bid' 'number' '3500' 'Place your Bid' %}
        </div>
        {% custom_submit_button 'Submit' %}
      </form>
    {% endif %}
  </div>
  <div class="flex items-start justify-between">
    <p
      class="max-w-lg mb-3 text-lg font-normal text-gray-700 dark:text-gray-400"
    >
      {{ listing.description }}
    </p>
    <footer class="flex items-center justify-end gap-2">
      <span class="text-gray-900 dark:text-white"
        >Posted by {{ listing.author }}</span
      >
      <img
        class="object-cover w-10 h-10 rounded-full"
        src="{{ listing.author.profile_pic }}"
        alt="Listing's author profile picture"
      />
    </footer>
  </div>
</article>
{% endblock %}
